<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template = "WEB-INF/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f ="http://java.sun.com/jsf/core">

    <ui:define name="content">
        <h3> Oberartikelübersicht </h3>


        <h:dataTable value="#{parentArticleOverviewController.articles}" id = "articleOverview" var="article" styleClass="table table-striped table-bordered table-condensed">
            <h:column>
                <f:facet name="header">Artikelname</f:facet>
                <h:outputText value ="#{article.parentArticleName}"></h:outputText>
            </h:column>  
            <h:column>
                <f:facet name="header">SKU</f:facet>
                <h:outputText value ="#{article.sku}"></h:outputText>
            </h:column>    
            <h:column>
                <f:facet name="header">Marke</f:facet>
                <h:outputText value ="#{article.brand}"></h:outputText>
            </h:column> 
            <h:column>
                <f:facet name ="header">Model</f:facet>
                <h:outputText value ="#{article.model}"></h:outputText>
            </h:column>
            <h:column>
                <f:facet name ="header">Attributset</f:facet>
                <h:outputText value ="#{article.attribute.name}"></h:outputText>
            </h:column>
            <h:column>
                <f:facet name ="header">Sonstiges</f:facet>
                <h:outputText value ="#{article.misc}"></h:outputText>
            </h:column>
            <h:column>
                <f:facet name ="header">Farbe</f:facet>
                <h:outputText value ="#{article.color.name}"></h:outputText>
            </h:column>
            <h:column>
                <f:facet name ="header">Geschlecht</f:facet>
                <ui:repeat value ="#{article.gender}" var = "gender">
                    #{gender.name}<br></br>                   
                </ui:repeat>
            </h:column>
            <h:column>
                <f:facet name="header">Top-Produkt</f:facet>
                <h:outputText value="#{article.topProduct==false? 'Nein' : 'Ja'}"/>                
            </h:column>
            <h:column>
                <f:facet name="header">Top-Produkt mobil</f:facet>
                <h:outputText value="#{article.topProductMobile==false? 'Nein' : 'Ja'}"/>                
            </h:column>
            <h:column>
                <f:facet name="header">Besonderes Produkt</f:facet>
                <h:outputText value="#{article.specialProduct==false? 'Nein' : 'Ja'}"/>                
            </h:column>
            <h:column>
                <f:facet name ="header">Material</f:facet>
                <ui:repeat value ="#{article.material}" var = "material">
                    #{material.name} <br></br>
                </ui:repeat>
            </h:column>
            <h:column>
                <f:facet name ="header">Produkttyp</f:facet>
                <ui:repeat value ="#{article.productTypes}" var = "productType">
                    #{productType.name} <br></br>
                </ui:repeat>
            </h:column>
            <h:column>
                <f:facet name="header">Kategorie</f:facet>
                <h:outputText value = "#{article.category.name}"></h:outputText>                                
            </h:column>
            <h:column>
                <f:facet name="header">Anzahl Bilder</f:facet>
                <h:outputText value ="#{article.numberOfPictures}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Beschreibung kurz</f:facet>
                <h:outputText value ="#{article.shortDescription}"/>                
            </h:column>
            <h:column>
                <f:facet name="header">Beschreibung lang</f:facet>
                <h:outputText value ="#{article.longDescription}"/>                
            </h:column>
            <h:column>
                <h:form>
                    <f:facet name ="header">Bearbeiten</f:facet>
                    <h:commandButton class = "btn btn-default" value="Bearbeiten" action ="#{parentArticleOverviewController.edit(article)}"/>
                </h:form>
            </h:column>
        </h:dataTable>

        <script type="text/javascript">
            var asInitVals = new Array();
            var oTable;
            $(document).ready(function() {

                oTable = $('#articleOverview').dataTable({
                    "bFilter": true,
                    "bStateSave": true,
                    "iDisplayLength": 25,
                    "oLanguage": {
                        "sSearch": "Filter:",
                        "sLengthMenu": "Anzeige von _MENU_ Artikeln pro Seite",
                        "sZeroRecords": "Leider keine Artikel gefunden",
                        "sInfo": "Zeige _START_ bis _END_ von _TOTAL_ Artikeln",
                        "sInfoEmpty": "Zeige 0 bis 0 von 0 Artikeln",
                        "sInfoFiltered": "(Gefiltert von gesamt _MAX_ Artikeln)",
                        "oPaginate": {
                            "sNext": "Weiter",
                            "sPrevious": "Zurück"
                        }
                    }
                }

                );
            });
        </script>

    </ui:define>
</ui:composition>


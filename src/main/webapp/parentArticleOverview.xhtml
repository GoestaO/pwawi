<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template = "WEB-INF/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f ="http://java.sun.com/jsf/core"
                xmlns:p ="http://primefaces.org/ui">

    <ui:define name="content">
        <h3> Oberartikelübersicht </h3>


        <p:dataTable value="#{parentArticleOverviewController.articles}" id = "articleOverview" var="article" styleClass="table table-striped table-bordered table-condensed">
            <p:column filterBy="parentArticleName" sortBy="parentArticleName" headerText="Artikelname" filterMatchMode="contains" filterStyle="width: 100%">
                <h:outputText value ="#{article.parentArticleName}"></h:outputText>
            </p:column>  
            <p:column filterBy="sku" sortBy="sku" headerText="SKU" filterMatchMode="contains" filterStyle="width: 100%">                
                <h:outputText value ="#{article.sku}"></h:outputText>
            </p:column>    
            <p:column filterBy="brand" sortBy="brand" headerText="Marke" filterMatchMode="contains" filterStyle="width: 100%">
                <h:outputText value ="#{article.brand}"></h:outputText>
            </p:column> 
            <p:column filterBy="model" sortBy="model" headerText="Model" filterMatchMode="contains" filterStyle="width: 100%">
                <h:outputText value ="#{article.model}"></h:outputText>
            </p:column>
            <p:column filterBy="attribute.name" sortBy="attribute.name" headerText="Attributset" filterMatchMode="contains" filterStyle="width: 100%">
                <h:outputText value ="#{article.attribute.name}"></h:outputText>
            </p:column>
            <!--            <p:column filterBy="attribute.name" sortBy="attribute.name" headerText="Sonstiges" filterMatchMode="contains" filterStyle="width: 100%">
                            <h:outputText value ="#{article.misc}"></h:outputText>
                        </p:column>-->
            <p:column filterBy="color.name" sortBy="color.name" headerText="Farbe" filterMatchMode="contains" filterStyle="width: 100%">
                <h:outputText value ="#{article.color.name}"></h:outputText>
            </p:column>
            <p:column filterBy="gender" sortBy="gender" headerText="Geschlecht" filterMatchMode="contains" filterStyle="width: 100%">
                <ui:repeat value ="#{article.gender}" var = "gender">
                    #{gender.name}<br></br>                   
                </ui:repeat>
            </p:column>
            <!--            <p:column filterBy="topProduct" sortBy="topProduct" headerText="Top-Produkt" filterMatchMode="contains" filterStyle="width: 100%">
                            <h:outputText value="#{article.topProduct==false? 'Nein' : 'Ja'}"/>                
                        </p:column>
                        <p:column filterBy="topProductMobile" sortBy="topProductMobile" headerText="Top-Produkt mobil" filterMatchMode="contains" filterStyle="width: 100%">
                            <h:outputText value="#{article.topProductMobile==false? 'Nein' : 'Ja'}"/>                
                        </p:column>
                        <p:column filterBy="specialProduct" sortBy="specialProduct" headerText="Besonderes Produkt" filterMatchMode="contains" filterStyle="width: 100%">
                            <h:outputText value="#{article.specialProduct==false? 'Nein' : 'Ja'}"/>                
                        </p:column>
                        <p:column filterBy="material" sortBy="material" headerText="Material" filterMatchMode="contains" filterStyle="width: 100%">
                            <ui:repeat value ="#{article.material}" var = "material">
            #{material.name} <br></br>
        </ui:repeat>
    </p:column>
    <p:column filterBy="productTypes" sortBy="productTypes" headerText="Produkttyp" filterMatchMode="contains" filterStyle="width: 100%">
        <ui:repeat value ="#{article.productTypes}" var = "productType">
            #{productType.name} <br></br>
        </ui:repeat>
    </p:column>
    <p:column filterBy="category.name" sortBy="category.name" headerText="Kategorie" filterMatchMode="contains" filterStyle="width: 100%">
        <h:outputText value = "#{article.category.name}"></h:outputText>                                
    </p:column>
    <p:column filterBy="numberOfPictures" sortBy="numberOfPictures" headerText="Anzahl Bilder" filterMatchMode="contains" filterStyle="width: 100%">
        <h:outputText value ="#{article.numberOfPictures}"/>
    </p:column>
    <p:column filterBy="shortDescription" sortBy="shortDescription" headerText="Beschreibung kurz" filterMatchMode="contains" filterStyle="width: 100%">
        <h:outputText value ="#{article.shortDescription}"/>                
    </p:column>
    <p:column filterBy="longDescription" sortBy="longDescription" headerText="Beschreibung lang" filterMatchMode="contains" filterStyle="width: 100%">
        <h:outputText value ="#{article.longDescription}"/>                
    </p:column>-->
            <p:column>
                <h:form>
                    <f:facet name ="header">Bearbeiten</f:facet>
                    <h:commandButton class = "btn btn-default" value="Bearbeiten" action ="#{parentArticleOverviewController.edit(article)}"/>
                </h:form>
            </p:column>

        </p:dataTable>       

        <h:form>

            <p:growl id="messages" showDetail="true" />

            <p:commandButton value="Destroy the World" actionListener="#{buttonBean.destroyWorld}" update="messages">
                <p:confirm header="Bestätigung" message="Sicher?" icon="ui-icon-alert" />
            </p:commandButton>

            <p:confirmDialog global="true">
                <p:commandButton value="Ja" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
                <p:commandButton value="Nein" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>    
            </p:confirmDialog>

        </h:form>

    </ui:define>
</ui:composition>

